<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="shortcut icon"
    href="https://uxwing.com/wp-content/themes/uxwing/download/brands-and-social-media/google-gemini-icon.png"
    type="image/x-icon" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" href="gemini.css" />
  <title>Gemini</title>
</head>

<body>
  <section class="main">
    <nav>
      <div class="menu">
        <!-- Menu  -->
        <div class="menu-container">
          <span class="material-symbols-outlined menu-icon"> menu </span>

          <!-- Add + -->
          <button class="add-icon">
            <span class="material-symbols-outlined"> add_circle </span>
          </button>

          <div class="i-icon">
            <button class="info-icon">
              <span class="material-symbols-outlined"> info </span>
            </button>
            <p class="i-icon-text"></p>
          </div>
        </div>
        <div class="settings">
          <div class="setting-items">
            <span class="material-symbols-outlined"> help </span>
            <p class="setting-text">Help</p>
          </div>
          <div class="setting-items">
            <span class="material-symbols-outlined"> history </span>
            <p class="setting-text">History</p>
          </div>
          <div class="setting-items">
            <span class="material-symbols-outlined"> settings </span>
            <p class="setting-text">Settings</p>
          </div>
        </div>
      </div>
    </nav>
    <main>
      <div class="container">
        <div class="upper-section">
          <div class="logo-section">
            <h2>Gemini</h2>
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF">
              <path d="M480-360 280-560h400L480-360Z" />
            </svg>
          </div>
          <div class="user-upgrade">
            <button>
              <img
                src="https://uxwing.com/wp-content/themes/uxwing/download/brands-and-social-media/google-gemini-icon.png"
                alt="icon" />
              Try Gemini Advanced
            </button>
            <div class="apps">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                fill="#FFFFFF">
                <path
                  d="M240-160q-33 0-56.5-23.5T160-240q0-33 23.5-56.5T240-320q33 0 56.5 23.5T320-240q0 33-23.5 56.5T240-160Zm240 0q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm240 0q-33 0-56.5-23.5T640-240q0-33 23.5-56.5T720-320q33 0 56.5 23.5T800-240q0 33-23.5 56.5T720-160ZM240-400q-33 0-56.5-23.5T160-480q0-33 23.5-56.5T240-560q33 0 56.5 23.5T320-480q0 33-23.5 56.5T240-400Zm240 0q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm240 0q-33 0-56.5-23.5T640-480q0-33 23.5-56.5T720-560q33 0 56.5 23.5T800-480q0 33-23.5 56.5T720-400ZM240-640q-33 0-56.5-23.5T160-720q0-33 23.5-56.5T240-800q33 0 56.5 23.5T320-720q0 33-23.5 56.5T240-640Zm240 0q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Zm240 0q-33 0-56.5-23.5T640-720q0-33 23.5-56.5T720-800q33 0 56.5 23.5T800-720q0 33-23.5 56.5T720-640Z" />
              </svg>
            </div>
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRlJqngNJ42uWE0Zy6S6rHTuW8pn6p-cuogyQ&s"
              id="user-account-icon" alt="User Account" />
          </div>
        </div>
        <div class="user-data">
          <div class="header">
            <h1>Hello, Sandhya Baliram Sawalkar</h1>
            <br />
            <p>How can I help you today?</p>
          </div>
          <div class="cards">
            <div class="cards-prompt">
              <p>Look up a Linux shell command for a specific task</p>
            </div>
            <div class="cards-prompt">
              <p>
                Recommend new types of water sports, including pros & cons
              </p>
            </div>
            <div class="cards-prompt">
              <p>Ideas to surprise a friend on their birthday</p>
            </div>
            <div class="cards-prompt">
              <p>Act like Mowgli from The Jungle Book and answer questions</p>
            </div>
          </div>
        </div>
        <div class="input-section">
          <input type="text" name="search" id="input-field" placeholder="Enter your prompt here" required autofocus
            style="color: white; font-size: 1rem" />
          <button id="btn">
            <span class="material-symbols-outlined"> send </span>
          </button>
        </div>
      </div>
    </main>
  </section>
  <script type="importmap">
      {
        "imports": {
          "@google/generative-ai": "https://esm.run/@google/generative-ai"
        }
      }
    </script>
  <script type="module">
    import { GoogleGenerativeAI } from "@google/generative-ai";
    const API_KEY = "AIzaSyDeyA863E10za8PhYsXyKSjJPWZb62u0No"; // Replace with your actual API key
    const genAI = new GoogleGenerativeAI(API_KEY);

    async function getGeminiResponse() {
    const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
    var userInput = document.querySelector("#input-field").value;
    const prompt = userInput;
    

    try {
      const result = await model.generateContent(prompt);
      const response = await result.response;
      const text = await response.text();
      const lines = text.split("\n");

    const formatMarkdown = (line) => {
      // Handle headings
      if (line.startsWith("# ")) {
        return `<h1 style="font-weight: bold;">${line.slice(2).trim()}</h1><br/>`;
      } else if (line.startsWith("## ")) {
        return `<h2 style="font-weight: bold;">${line.slice(3).trim()}</h2><br/>`;
      } else if (line.startsWith("### ")) {
        return `<h3 style="font-weight: bold;">${line.slice(4).trim()}</h3><br/>`;
      }

      // Handle code blocks
      if (line.startsWith("```")) {
        const language = line.slice(3).trim();
        return `<div class="code-block"><pre><code class="${language}">`;
      } else if (line === "```") {
        return `</code></pre></div>`;
      }

      // Handle regular paragraphs
      return `<p>${line.trim()}</p>`;
    };

    // Process the lines and format accordingly
    const formattedLines = lines.reduce((acc, line) => {
      const formattedLine = formatMarkdown(line);
      if (formattedLine) {
        acc.push(formattedLine);
      }
      return acc;
    }, []);

    const htmlOutput = formattedLines.join(" ");

    // Clear previous response and insert the new one
    document.querySelector(".user-data").innerHTML = `
      <div class="gemini">
        <div class="user-prompt">
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRlJqngNJ42uWE0Zy6S6rHTuW8pn6p-cuogyQ&s" alt="User Account">
          <h3 style="color: white">${prompt}</h3>
        </div>
        <div class="gemini-response">
          <img src="https://uxwing.com/wp-content/themes/uxwing/download/brands-and-social-media/google-gemini-icon.png" class="user-side"/>
          <div>${htmlOutput}</div>
        </div>
      </div>`;

    // Add code  functionality
      const codeElements = document.createElement(".code-block code");
      let codeText = "";
      codeElements.forEach(code => {
        codeText += code.textContent;
       
      });
   

  } catch (error) {
    console.error("Error generating response:", error);
  }
  

  document.querySelector("#input-field").value = "";
  document.querySelector("#input-field").style.color = "white";
}


const enter = document.querySelector("#btn");
enter.addEventListener("click", () => {
  if(document.querySelector("#input-field").value === "") {
    alert("Please enter your prompt");
  }
  else{
    document.querySelector(".header").style.display = "none";
  document.querySelector(".cards").style.display = "none";
  setTimeout(() => {
    document.querySelector(".user-data").innerHTML = `
      <div class="gemini"><p><h2>Generating Response....</h2></p></div>`;
  }, 1000);
  setTimeout(() => {
    getGeminiResponse();
  }, 2000);


  }
});
  

 

const sideNav = document.querySelector("nav");
let menu = document.querySelector(".menu-icon");

menu.addEventListener("click", () => {
  sideNav.classList.toggle("active");
});


</script>
</body>

</html>